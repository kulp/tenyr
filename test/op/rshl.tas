C <- [(@args + (0 + 0x1000))]
D <- [(@args + (1 + 0x1000))]
D <- D & 31	// doesn't support overshifting yet
B <- C >>> D

E <- 0
M <- 0
loop:
F <- @+masks + E + P
G <- [F]		// G is output mask
H <- [F + D]	// H is input mask
I <- C & H
I <- I == 0
I <- ~ I
I <- I & G
M <- M | I
O <- 32 - D
E <- E + 1
N <- E < O
P <- @+loop & N + P

B <- B == M
illegal

masks:
.word (1 << 0),
      (1 << 1),
      (1 << 2),
      (1 << 3),
      (1 << 4),
      (1 << 5),
      (1 << 6),
      (1 << 7),
      (1 << 8),
      (1 << 9),
      (1 << 10),
      (1 << 11),
      (1 << 12),
      (1 << 13),
      (1 << 14),
      (1 << 15),
      (1 << 16),
      (1 << 17),
      (1 << 18),
      (1 << 19),
      (1 << 20),
      (1 << 21),
      (1 << 22),
      (1 << 23),
      (1 << 24),
      (1 << 25),
      (1 << 26),
      (1 << 27),
      (1 << 28),
      (1 << 29),
      (1 << 30),
      (1 << 31)

